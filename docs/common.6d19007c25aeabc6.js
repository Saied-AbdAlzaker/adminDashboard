"use strict";(self.webpackChunkadminDashboard=self.webpackChunkadminDashboard||[]).push([[592],{3980:(f,c,n)=>{n.d(c,{e:()=>h});class a extends Error{}a.prototype.name="InvalidTokenError";var l=n(5879),p=n(9862);let h=(()=>{class r{constructor(e){this._HttpClient=e,this.role="",null!==localStorage.getItem("role")&&this.getProfile()}getProfile(){let t=function u(r,o){if("string"!=typeof r)throw new a("Invalid token specified: must be a string");o||(o={});const e=!0===o.header?0:1,t=r.split(".")[e];if("string"!=typeof t)throw new a(`Invalid token specified: missing part #${e+1}`);let i;try{i=function g(r){let o=r.replace(/-/g,"+").replace(/_/g,"/");switch(o.length%4){case 0:break;case 2:o+="==";break;case 3:o+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return function d(r){return decodeURIComponent(atob(r).replace(/(.)/g,(o,e)=>{let t=e.charCodeAt(0).toString(16).toUpperCase();return t.length<2&&(t="0"+t),"%"+t}))}(o)}catch{return atob(o)}}(t)}catch(s){throw new a(`Invalid token specified: invalid base64 for part #${e+1} (${s.message})`)}try{return JSON.parse(i)}catch(s){throw new a(`Invalid token specified: invalid json for part #${e+1} (${s.message})`)}}(localStorage.getItem("userToken"));console.log(t),localStorage.setItem("role",t.userGroup),localStorage.setItem("userName",t.userName),localStorage.setItem("userEmail",t.userEmail),this.getRole()}getRole(){null!==localStorage.getItem("userToken")&&localStorage.getItem("role")&&(this.role=localStorage.getItem("role"))}onRegister(e){return this._HttpClient.post("http://foodsystem.tryasp.net/Auth/Register",e)}onLogin(e){return this._HttpClient.post("http://foodsystem.tryasp.net/Auth/Login",e)}static#e=this.\u0275fac=function(t){return new(t||r)(l.LFG(p.eN))};static#t=this.\u0275prov=l.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})()}}]);